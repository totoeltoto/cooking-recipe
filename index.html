<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liste des Recettes</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      margin: 0;
      padding: 0;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    h1 {
      text-align: center;
      padding: 20px;
      background-color: #333;
      color: #fff;
    }

    .recherche-container {
      text-align: center;
      margin: 20px auto;
      position: relative;
    }

    .input-recherche {
      padding: 10px;
      width: 300px;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-bottom: 10px;
    }

    .bouton-recherche {
      padding: 10px 20px;
      background-color: #333;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .bouton-recherche:hover {
      background-color: #555;
    }

    .suggestions {
      position: absolute;
      list-style: none;
      padding: 0;
      margin: 0;
      width: 323px;
      border: 1px solid #333;
      border-top: none;
      border-radius: 5px;
      background-color: #fff;
      display: none;
      left: 50%;
      transform: translateX(-67.5%);
      z-index: 2;
    }

    .suggestion-item {
      padding: 10px;
      cursor: pointer;
    }

    .suggestion-item:hover {
      background-color: #eee;
    }

    .liste-recettes {
      text-align: center;
      margin: 20px auto;
    }

    .bouton-recette {
      display: inline-block;
      padding: 10px 20px;
      margin: 10px;
      background-color: #333;
      color: #fff;
      text-decoration: none;
      border-radius: 5px;
      transition: background-color 0.3s ease, transform 0.3s ease;
    }

    .bouton-recette:hover {
      background-color: #555;
      transform: scale(1.05);
    }

    .filtre-recettes {
      text-align: center;
      margin: 20px 0;
    }

    .bouton-filtre {
      padding: 10px 15px;
      margin: 5px;
      background-color: #333;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .bouton-filtre:hover {
      background-color: #555;
    }

    /* Bouton mode sombre */
    .mode-sombre-btn {
      position: fixed;
      top: 35px;
      right: 10px;
      padding: 10px 15px;
      background-color: #333;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      z-index: 3;
    }

    .mode-sombre-btn:hover {
      background-color: #555;
    }

    /* Mode sombre */
    body.dark-mode {
      background-color: #222;
      color: #ddd;
    }

    body.dark-mode h1 {
      background-color: #111;
    }

    body.dark-mode .bouton-recette,
    body.dark-mode .bouton-filtre,
    body.dark-mode .bouton-recherche,
    body.dark-mode .mode-sombre-btn {
      background-color: #444;
      color: #fff;
    }

    body.dark-mode .bouton-recette:hover,
    body.dark-mode .bouton-filtre:hover,
    body.dark-mode .bouton-recherche:hover,
    body.dark-mode .mode-sombre-btn:hover {
      background-color: #666;
    }

    body.dark-mode .input-recherche {
      background-color: #333;
      color: #fff;
      border: 1px solid #555;
    }

    body.dark-mode .suggestions {
      background-color: #333;
      color: #fff;
      border: 1px solid #666;
    }

    body.dark-mode .suggestion-item:hover {
      background-color: #555;
    }
  </style>
</head>

<body>

  <h1>Liste des Recettes</h1>

  <button class="mode-sombre-btn" onclick="toggleDarkMode()">ðŸŒ™</button>

  <div class="recherche-container">
    <input type="text" class="input-recherche" placeholder="Rechercher une recette..." oninput="showSuggestions()">
    <button class="bouton-recherche" onclick="searchRecipe()">Rechercher</button>
    <ul class="suggestions" id="suggestion-list"></ul>
  </div>

  <div class="filtre-recettes">
    <button class="bouton-filtre" onclick="filtrerRecettes('tous')">Tout</button>
    <button class="bouton-filtre" onclick="filtrerRecettes('plat')">Plats</button>
    <button class="bouton-filtre" onclick="filtrerRecettes('dessert')">Desserts</button>
    <button class="bouton-filtre" onclick="filtrerRecettes('aperitif')">ApÃ©ritifs</button>
  </div>

  <div class="liste-recettes">
    <li><a href="/recette/tomateMozza1.html" class="bouton-recette" data-type="aperitif">Salade de tomate mozzarella</a></li>
    <li><a href="/recette/cookie2.html" class="bouton-recette" data-type="dessert">Cookie</a></li>
    <li><a href="/recette/tarteChocolat3.html" class="bouton-recette" data-type="dessert">Tarte au chocolat</a></li>
    <li><a href="/recette/poireAmandine4.html" class="bouton-recette" data-type="dessert">Tarte poires amandines</a></li>
    <li><a href="/recette/buche5.html" class="bouton-recette" data-type="dessert">Buche de NoÃ«l ðŸŽ…</a></li>
    <li><a href="/recette/pancakes6.html" class="bouton-recette" data-type="dessert">Pancakes</a></li>
    <li><a href="/recette/stJaques7.html" class="bouton-recette" data-type="plat">Noix de St Jaques Ã  la crÃ¨me</a></li>
    <li><a href="/recette/petitsFinaciers8.html" class="bouton-recette" data-type="dessert">Petits Financiers</a></li>
    <li><a href="/recette/briocheEtoile9.html" class="bouton-recette" data-type="dessert">Brioche Ã©toilÃ©e Ã  la pÃ¢te Ã  tartiner</a></li>
    <li><a href="/recette/tartiflette10.html" class="bouton-recette" data-type="plat">Tartiflette</a></li>
    <li><a href="/recette/galetteDesRois11.html" class="bouton-recette" data-type="dessert">Galette des Rois</a></li>
    <li><a href="/recette/recetteSuivante.html" class="bouton-recette" data-type="plat">Recette en cours de dÃ©veloppement... ðŸ’¤</a></li>
  </div>

  <script>
    let selectedSuggestionIndex = -1;

    function showSuggestions() {
      const input = document.querySelector('.input-recherche');
      const suggestionsList = document.getElementById('suggestion-list');
      const inputValue = input.value.toLowerCase().trim();
      const recipes = document.querySelectorAll('.bouton-recette');

      suggestionsList.innerHTML = '';

      recipes.forEach(recipe => {
        const recipeName = recipe.textContent.toLowerCase();
        if (recipeName.includes(inputValue) && inputValue !== "") {
          const suggestionItem = document.createElement('li');
          suggestionItem.classList.add('suggestion-item');
          suggestionItem.textContent = recipe.textContent;
          suggestionItem.addEventListener('click', () => {
            input.value = recipe.textContent;
            suggestionsList.style.display = 'none';
          });
          suggestionsList.appendChild(suggestionItem);
        }
      });

      suggestionsList.style.display = suggestionsList.children.length > 0 ? 'block' : 'none';
    }

    function searchRecipe() {
      const input = document.querySelector('.input-recherche');
      const inputValue = input.value.toLowerCase().trim();
      const recipes = document.querySelectorAll('.bouton-recette');

      recipes.forEach(recipe => {
        const recipeName = recipe.textContent.toLowerCase();
        if (recipeName === inputValue) {
          window.location.href = recipe.getAttribute('href');
        }
      });
    }

    function filtrerRecettes(type) {
      const recettes = document.querySelectorAll('.bouton-recette');

      recettes.forEach(recette => {
        if (type === 'tous' || recette.dataset.type === type) {
          recette.parentElement.style.display = 'block';
        } else {
          recette.parentElement.style.display = 'none';
        }
      });
    }

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }

    document.addEventListener('click', function (event) {
      const input = document.querySelector('.input-recherche');
      const suggestionsList = document.getElementById('suggestion-list');
      if (event.target !== input && !input.contains(event.target) && event.target !== suggestionsList && !suggestionsList.contains(event.target)) {
        suggestionsList.style.display = 'none';
      }
    });

    document.addEventListener('keydown', function (event) {
      const suggestionsList = document.getElementById('suggestion-list');
      const suggestionItems = document.querySelectorAll('.suggestion-item');

      if (suggestionItems.length > 0) {
        if (event.key === 'ArrowUp') {
          selectedSuggestionIndex = (selectedSuggestionIndex - 1 + suggestionItems.length) % suggestionItems.length;
        } else if (event.key === 'ArrowDown') {
          selectedSuggestionIndex = (selectedSuggestionIndex + 1) % suggestionItems.length;
        }

        suggestionItems.forEach((item, index) => {
          if (index === selectedSuggestionIndex) {
            item.classList.add('selected');
            document.querySelector('.input-recherche').value = item.textContent;
          } else {
            item.classList.remove('selected');
          }
        });
      }
    });

    document.querySelector('.input-recherche').addEventListener('keydown', function (event) {
      if (event.key === 'Enter') {
        searchRecipe();
      }
    });
  </script>

</body>

</html>
